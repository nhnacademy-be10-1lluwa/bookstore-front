<!DOCTYPE html>
<html lang="ko"
      layout:decorate="~{layout/layout}"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head layout:fragment="head">
    <meta charset="UTF-8" />
    <title>вѓ┤ вдгви░ вфЕвАЮ</title>
    <link rel="stylesheet" th:href="@{/css/main.css}" />
    <link rel="stylesheet" th:href="@{/css/page/member/_mypage.css}" />
<!--    <link rel="stylesheet" th:href="@{/page/review/_review_history.css}" />-->
</head>

<main layout:fragment="content">
    <div class="mypage-container">
        <div th:replace="~{layout/mypage-sidebar :: sidebar(${activeMenu})}"></div>
        <section class="mypage-content">
            <h2>­ЪЊџ вѓ┤Ж░ђ ВЊ┤ вдгви░</h2>

            <table class="review-table">
                <thead>
                <tr>
                    <th>В▒Ё ВаювфЕ</th>
                    <th>вдгви░ ВаювфЕ</th>
                    <th>ьЈЅВаљ</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="review : ${reviewList}">
                    <td th:text="${review.bookTitle}">В▒Ё ВаювфЕ</td>
                    <td>
                        <a th:href="@{'/books/' + ${review.bookId} + '/reviews/' + ${review.reviewId} + '?mode=view'}"
                           th:text="${review.reviewTitle}">вдгви░ ВаювфЕ</a>
                    </td>
                    <td>
                        <div class="star-rating small">
                                <span th:each="i : ${#numbers.sequence(1,5)}"
                                      th:class="${i <= review.reviewRating} ? 'star filled' : 'star'">РўЁ</span>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- ьјўВЮ┤ВДђвёцВЮ┤ВЁў -->
            <div class="pagination" th:if="${totalPages > 1}">
                <a th:if="${currentPage > 0}"
                   th:href="@{'/review-history?book-id=' + ${bookId} + '&page=' + ${currentPage - 1}}">&laquo; ВЮ┤Ваё</a>

                <a th:each="pageNum : ${#numbers.sequence(0, totalPages - 1)}"
                   th:classappend="${pageNum == currentPage} ? ' active' : ''"
                   th:href="@{'/review-history?book-id=' + ${bookId} + '&page=' + ${pageNum}}"
                   th:text="${pageNum + 1}">1</a>

                <a th:if="${currentPage < totalPages - 1}"
                   th:href="@{'/review-history?book-id=' + ${bookId} + '&page=' + ${currentPage + 1}}">вІцВЮї &raquo;</a>
            </div>
        </section>
    </div>
</main>
<body>
</body>
</html>
