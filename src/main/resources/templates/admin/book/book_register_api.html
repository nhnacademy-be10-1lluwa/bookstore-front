<form th:action="@{/admin/book/register_api}" method="post">
  <!-- 제목 -->
  <div class="mb-3">
    <label for="title" class="form-label">제목</label>
    <input type="text" id="title" name="title" class="form-control"
           th:value="${book.title != null} ? ${book.title} : ''" required />
  </div>

  <!-- 저자 -->
  <div class="mb-3">
    <label for="author" class="form-label">저자</label>
    <input type="text" id="author" name="author" class="form-control"
           th:value="${book.author != null} ? ${book.author} : ''" required />
  </div>

  <!-- 출판사 -->
  <div class="mb-3">
    <label for="publisher" class="form-label">출판사</label>
    <input type="text" id="publisher" name="publisher" class="form-control"
           th:value="${book.publisher != null} ? ${book.publisher} : ''" required />
  </div>

  <!-- 출판일 -->
  <div class="mb-3">
    <label for="pubDate" class="form-label">출판일</label>
    <input type="date" id="pubDate" name="pubDate" class="form-control"
           th:value="${book.pubDate != null} ? ${#temporals.format(book.pubDate, 'yyyy-MM-dd')} : ''" required />
  </div>

  <!-- ISBN -->
  <div class="mb-3">
    <label for="isbn" class="form-label">ISBN</label>
    <input type="text" id="isbn" name="isbn" class="form-control"
           th:value="${book.isbn != null} ? ${book.isbn} : ''" required />
  </div>

  <!-- 정가 -->
  <div class="mb-3">
    <label for="regularPrice" class="form-label">정가</label>
    <input type="number" id="regularPrice" name="regularPrice" class="form-control"
           th:value="${book.priceStandard != null} ? ${book.priceStandard} : ''" required />
  </div>

  <!-- 판매가 -->
  <div class="mb-3">
    <label for="salePrice" class="form-label">판매가</label>
    <input type="number" id="salePrice" name="salePrice" class="form-control"
           th:value="${book.priceSales != null} ? ${book.priceSales} : ''" required />
  </div>

  <!-- 설명 -->
  <div class="mb-3">
    <label for="description" class="form-label">설명</label>
    <textarea id="description" name="description" class="form-control"
              th:text="${book.description != null} ? ${book.description} : ''"></textarea>
  </div>

  <!-- 커버 이미지 -->
  <div class="mb-3">
    <label for="cover" class="form-label">이미지 URL</label>
    <input type="text" id="cover" name="cover" class="form-control"
           th:value="${book.cover != null} ? ${book.cover} : ''" />
    <div th:if="${book.cover != null and !book.cover.isEmpty()}">
      <img th:src="${book.cover}" alt="도서 이미지" class="mt-2" style="max-width: 150px;"
           onerror="this.style.display='none'"/>
    </div>
  </div>

  <!-- 수량 -->
  <div class="mb-3">
    <label for="count" class="form-label">재고 수량</label>
    <input type="number" class="form-control" id="count" name="count" required min="0" />
  </div>

  <!-- 카테고리 (3차 기준, id 값 필요) -->
  <div class="mb-3">
    <label for="categoryId" class="form-label">카테고리</label>
    <select id="categoryId" name="categoryId" class="form-select" required>
      <option value="">카테고리를 선택하세요</option>
      <option th:each="cat : ${categories}"
              th:value="${cat.id}"
              th:text="${cat.categoryName}">
      </option>
    </select>
  </div>

  <button type="submit" class="btn btn-primary">등록</button>
  <a th:href="@{/admin/books}" class="btn btn-secondary ms-2">취소</a>
</form>