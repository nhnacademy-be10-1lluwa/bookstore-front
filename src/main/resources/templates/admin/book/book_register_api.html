<!DOCTYPE html>
<html layout:decorate="~{layout/layout}"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head layout:fragment="head">
  <meta charset="UTF-8" />
  <title>도서 등록</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <style>
    .book-card { cursor: pointer; }
    .book-card:hover { background-color: #f8f9fa; }
    img { max-width: 100%; height: auto; }
  </style>
</head>

<body>
<main layout:fragment="content">
  <section class="container mt-4">
    <h2>도서 등록</h2>

    <form th:action="@{/admin/book/register}" method="post" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="title" class="form-label">제목</label>
        <input type="text" class="form-control" id="title" name="title" th:value="${book.title}" required />
      </div>

      <div class="mb-3">
        <label for="author" class="form-label">저자</label>
        <input type="text" class="form-control" id="author" name="author" th:value="${book.author}" required />
      </div>

      <div class="mb-3">
        <label for="publisher" class="form-label">출판사</label>
        <input type="text" class="form-control" id="publisher" name="publisher" th:value="${book.publisher}" required />
      </div>

      <div class="mb-3">
        <label for="pubDate" class="form-label">출판일</label>
        <input type="date" class="form-control" id="pubDate" name="pubDate"
               th:value="${book.pubDate}" required />
      </div>

      <div class="mb-3">
        <label for="isbn" class="form-label">ISBN</label>
        <input type="text" class="form-control" id="isbn" name="isbn" th:value="${book.isbn}" required />
      </div>

      <div class="mb-3">
        <label for="regularPrice" class="form-label">정가</label>
        <input type="number" class="form-control" id="regularPrice" name="regularPrice"
               th:value="${book.priceStandard}" required />
      </div>

      <div class="mb-3">
        <label for="salePrice" class="form-label">판매가</label>
        <input type="number" class="form-control" id="salePrice" name="salePrice"
               th:value="${book.priceSales}" required />
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">책 소개</label>
        <textarea class="form-control" id="description" name="description" rows="4"
                  th:text="${book.description}"></textarea>
      </div>

      <div class="mb-3">
        <label for="contents" class="form-label">목차</label>
        <textarea class="form-control" id="contents" name="contents" rows="6"></textarea>
      </div>

      <div class="mb-3">
        <label for="count" class="form-label">재고 수량</label>
        <input type="number" class="form-control" id="count" name="count" value="1" min="0" required />
      </div>

      <div class="mb-3">
        <label for="categoryId" class="form-label">카테고리</label>
        <select class="form-select" id="categoryId" name="categoryId" required>
          <option value="" selected disabled>카테고리를 선택하세요</option>
          <optgroup label="국내도서">
            <option value="3">소설</option>
            <option value="4">컴퓨터/IT</option>
            <option value="5">인문</option>
          </optgroup>
          <optgroup label="외국도서">
            <option value="6">Fiction</option>
            <option value="7">Computer/IT</option>
            <option value="8">Humanities</option>
          </optgroup>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">도서 표지</label><br />
        <img th:src="${book.cover}" alt="책 표지" style="max-width: 150px; border-radius: 8px;" />
        <input type="hidden" name="imageFileUrl" th:value="${book.cover}" />
      </div>

      <button type="submit" class="btn btn-primary">등록</button>
    </form>
  </section>
</main>
</body>
</html>